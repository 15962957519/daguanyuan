{"version":3,"sources":["webpack:///src/components/user/set_user.vue","webpack:///./src/components/user/set_user.vue?f60f","webpack:///./src/components/user/set_user.vue"],"names":["vue_esm","component","navbar","name","cell","set_user","data","methods","goback","this","$router","go","phone_verification","push","query","type","getusergoodsinfo","that","token","window","storeWithExpiration","get","$axios","params","then","response","status","json","goodsinfo","catch","ex","gainame","console","log","form","FormData","append","user_data","nickname","post","error","xiugai","$refs","filElem","dispatchEvent","MouseEvent","add_img","event","_this","reader","FileReader","img1","target","files","readAsDataURL","onloadend","head_pic","result","size","alert","computed","Object","vuex_esm","state","util","isEmptyObject","menuItems","$store","dispatch","user_set_user","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","fixed","slot","to","nativeOn","click","$event","_v","staticStyle","font-size","ref","hidden","on","change","height","width","border-radius","src","directives","rawName","value","expression","-webkit-user-select","domProps","input","composing","$set","arrow","_s","mobile","email","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/33.ed922517898ab6a51d5e.js","sourcesContent":["<template>\r\n    <div class=\"margin\">\r\n        <!--顶部导航-->\r\n        <yd-navbar :fixed=\"true\" >\r\n            <router-link   to=\"\" slot=\"left\" >\r\n                <yd-navbar-back-icon     @click.native=\"goback\">返回</yd-navbar-back-icon>\r\n            </router-link>\r\n            <p style=\"font-size: .3rem\" slot=\"center\">设置</p>\r\n        </yd-navbar>\r\n        <!--个人信息设置-->\r\n        <!--</div>-->\r\n        <!--<div class=\"header\">-->\r\n            <!--<img  :src=\"user_data.head_pic\" @click=\"xiugai\" >-->\r\n            <!--<div>-->\r\n                <!--<div class=\"name\">-->\r\n                    <!--<input style=\"-webkit-user-select:text !important;\"-->\r\n                           <!--value=\"user_data.nickname\"-->\r\n                                         <!--v-model=\"user_data.nickname\" @change='gainame'>-->\r\n                <!--</div>-->\r\n                <!--<div class=\"level\">（点击头像可修改）</div>-->\r\n            <!--</div>-->\r\n        <!--</div>-->\r\n        <!--替换图片-->\r\n        <input ref=\"filElem\" hidden  @change='add_img' type=\"file\">\r\n        <yd-cell-group>\r\n            <yd-cell-item style=\"height: 1.3rem;\">\r\n                <span slot=\"left\">头像  <span>(点击头像可修改)</span></span>\r\n                <span slot=\"right\"><img slot=\"right\" style=\"width: 1rem; border-radius: 1rem;\" :src=\"user_data.head_pic\"  @click=\"xiugai\" /></span>\r\n            </yd-cell-item>\r\n            <yd-cell-item>\r\n                <span slot=\"left\">用户名</span>\r\n                <span slot=\"right\">\r\n                <input style=\"-webkit-user-select:text !important;\"\r\n                            v-model=\"user_data.nickname\" @change='gainame'>\r\n                    <!--<span @click=\"openConfrim\" size=\"large\">{{user_data.nickname}}</span>-->\r\n                </span>\r\n            </yd-cell-item>\r\n            <yd-cell-item arrow @click.native=\"phone_verification\">\r\n                <span slot=\"left\">手机</span>\r\n                <span slot=\"right\">{{user_data.mobile}}</span>\r\n            </yd-cell-item>\r\n            <yd-cell-item arrow>\r\n                <span slot=\"left\">邮箱</span>\r\n                <span slot=\"right\">{{user_data.email}}</span>\r\n            </yd-cell-item>\r\n        </yd-cell-group>\r\n        <!--收获地址-->\r\n        <yd-cell-group>\r\n            <yd-cell-item arrow>\r\n                <span slot=\"left\">地址</span>\r\n                <span slot=\"right\">默认微信收货地址</span>\r\n            </yd-cell-item>\r\n        </yd-cell-group>\r\n\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    import Vue from 'vue';\r\n    import {NavBar, NavBarBackIcon, NavBarNextIcon} from 'vue-ydui/dist/lib.rem/navbar';\r\n    /* 使用px：import {NavBar, NavBarBackIcon, NavBarNextIcon} from 'vue-ydui/dist/lib.px/navbar'; */\r\n    Vue.component(NavBar.name, NavBar);\r\n    Vue.component(NavBarBackIcon.name, NavBarBackIcon);\r\n    Vue.component(NavBarNextIcon.name, NavBarNextIcon);\r\n    import {CellGroup, CellItem} from 'vue-ydui/dist/lib.rem/cell';\r\n    /* 使用px：import {CellGroup, CellItem} from 'vue-ydui/dist/lib.px/cell'; */\r\n\r\n    Vue.component(CellGroup.name, CellGroup);\r\n    Vue.component(CellItem.name, CellItem);\r\n    import { mapState} from 'vuex';\r\n    import weipai from '@/commonjs/util.js'\r\n    export default {\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            goback () {\r\n                this.$router.go(-1)\r\n            },\r\n            //phone_verification\r\n            phone_verification(){\r\n                this.$router.push({ name: 'phone_number_link',query:{type:2}})\r\n            },\r\n            getusergoodsinfo:function(){\r\n                var that = this;\r\n                var token = window.storeWithExpiration.get('token');\r\n                this.$axios.get( '/', {\r\n                    params: {\r\n                        token: token\r\n                    }\r\n                }).then(function(response) {\r\n                    if(response.status=='200'){\r\n                        return response.data;\r\n                    }\r\n                }).then(function(json) {\r\n                    that.goodsinfo = json.data;\r\n\r\n                    //  console.log( that.goodsinfo)\r\n\r\n\r\n                }).catch(function(ex) {\r\n\r\n                });\r\n\r\n            },\r\n            //    上传图片\r\n            gainame(){\r\n                console.log(123)\r\n                var  _this =this\r\n                let form = new FormData();\r\n                form.append('nickname',_this.user_data.nickname)\r\n                form.append('token',storeWithExpiration.get('token'))\r\n                this.$axios.post(\"/personalsettings\",form).then(function(response){\r\n                }).catch(function (error){\r\n                    //console.log(error);\r\n                });\r\n            },\r\n            xiugai(){\r\n                this.$refs.filElem.dispatchEvent(new MouseEvent('click'))\r\n            },\r\n            add_img(event){\r\n                var  _this =this\r\n               console.log(event)\r\n                let reader =new FileReader();\r\n                let img1=event.target.files[0];\r\n                if (!event || !window.FileReader) return  // 看支持不支持FileReader\r\n                reader.readAsDataURL(img1) // 这里是最关键的一步，转换就在这里\r\n                reader.onloadend = function () {\r\n                    _this.user_data.head_pic=this.result\r\n                }\r\n                let type=img1.type;//文件的类型，判断是否是图片\r\n                let size=img1.size;//文件的大小，判断图片的大小\r\n                if(size>3145728){\r\n                    alert('请选择3M以内的图片！');\r\n                    return false;\r\n                }\r\n                let form = new FormData();\r\n                form.append('nickname',_this.user_data.nickname)\r\n                form.append('token',storeWithExpiration.get('token'))\r\n                form.append('head_pic',img1);\r\n                this.$axios.post(\"/personalsettings\",form).then(function(response){\r\n                }).catch(function (error){\r\n                    //console.log(error);\r\n                });\r\n\r\n            },\r\n        },\r\n\r\n        computed:mapState({\r\n            user_data(state){\r\n                if(weipai.isEmptyObject(state.menuItems)){\r\n                    this.$store.dispatch(\"getuserinfo\");\r\n                }\r\n                return state.menuItems\r\n            }\r\n        }),\r\n    }\r\n\r\n</script>\r\n<style>\r\n    .margin{ padding-top: 1.05rem;}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/set_user.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"margin\"},[_c('yd-navbar',{attrs:{\"fixed\":true}},[_c('router-link',{attrs:{\"slot\":\"left\",\"to\":\"\"},slot:\"left\"},[_c('yd-navbar-back-icon',{nativeOn:{\"click\":function($event){return _vm.goback($event)}}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('p',{staticStyle:{\"font-size\":\".3rem\"},attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(\"设置\")])],1),_vm._v(\" \"),_c('input',{ref:\"filElem\",attrs:{\"hidden\":\"\",\"type\":\"file\"},on:{\"change\":_vm.add_img}}),_vm._v(\" \"),_c('yd-cell-group',[_c('yd-cell-item',{staticStyle:{\"height\":\"1.3rem\"}},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"头像  \"),_c('span',[_vm._v(\"(点击头像可修改)\")])]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('img',{staticStyle:{\"width\":\"1rem\",\"border-radius\":\"1rem\"},attrs:{\"slot\":\"right\",\"src\":_vm.user_data.head_pic},on:{\"click\":_vm.xiugai},slot:\"right\"})])]),_vm._v(\" \"),_c('yd-cell-item',[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"用户名\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_data.nickname),expression:\"user_data.nickname\"}],staticStyle:{\"-webkit-user-select\":\"text !important\"},domProps:{\"value\":(_vm.user_data.nickname)},on:{\"change\":_vm.gainame,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user_data, \"nickname\", $event.target.value)}}})])]),_vm._v(\" \"),_c('yd-cell-item',{attrs:{\"arrow\":\"\"},nativeOn:{\"click\":function($event){return _vm.phone_verification($event)}}},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"手机\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(_vm._s(_vm.user_data.mobile))])]),_vm._v(\" \"),_c('yd-cell-item',{attrs:{\"arrow\":\"\"}},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"邮箱\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(_vm._s(_vm.user_data.email))])])],1),_vm._v(\" \"),_c('yd-cell-group',[_c('yd-cell-item',{attrs:{\"arrow\":\"\"}},[_c('span',{attrs:{\"slot\":\"left\"},slot:\"left\"},[_vm._v(\"地址\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"right\"},slot:\"right\"},[_vm._v(\"默认微信收货地址\")])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-83798182\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/user/set_user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-83798182\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./set_user.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./set_user.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./set_user.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-83798182\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./set_user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/set_user.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}