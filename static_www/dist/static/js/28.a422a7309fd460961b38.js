webpackJsonp([28],{"8u7t":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("xd7I"),i=a("PBG6"),r=a("8kzU"),o=a("R4Sj");e.default.component(i.NavBar.name,i.NavBar),e.default.component(i.NavBarBackIcon.name,i.NavBarBackIcon),e.default.component(i.NavBarNextIcon.name,i.NavBarNextIcon),e.default.component(r.Tab.name,r.Tab),e.default.component(r.TabPanel.name,r.TabPanel);var l={data:function(){return{tab2:0,navcart:0,items:[{label:"全部"},{label:"待付款"},{label:"待发货"},{label:"待收货"},{label:"已完成"}],tab3:0,items1:[{label:"全部"},{label:"待付款"},{label:"待发货"},{label:"待收货"},{label:"已完成"}],payorderall:[],paynoorderall:[]}},mounted:function(){this.showclick()},methods:{goback:function(){this.$router.go(-1)},itemClick:function(t){var s=this,a=window.storeWithExpiration.get("token");s.payorderall=[],console.log(s.payorderall);t=t||0;return s.$dialog.loading.open("数据加载中"),setTimeout(function(){if(s.tab2=t,s.$dialog.loading.close(),0==t&&s.panelClick(0),1==t)var e="/users/my_order?token="+a+"&pay_status=0&shipping_status=0&order_status=0&seller=1";else if(2==t)e="/users/my_order?token="+a+"&pay_status=1&shipping_status=0&order_status=-1&seller=1";else if(3==t)e="/users/my_order?token="+a+"&pay_status=1&shipping_status=1&order_status=1&seller=1";else if(4==t)e="/users/my_order?token="+a+"&pay_status=1&shipping_status=2&order_status=2&seller=1";s.$axios.get(e).then(function(t){if(200==t.status)return t.data.data}).then(function(t){console.log(s.payorderall),console.log(t);for(var a=0;a<t.length;a++)t[a].add_time=s.timestampToTime(t[a].add_time),s.payorderall.push(t[a])}).catch(function(t){console.log(t)})},500),!1},itemClick1:function(t){var s=this,a=window.storeWithExpiration.get("token");s.paynoorderall=[];t=t||0;s.$dialog.loading.open("数据加载中"),setTimeout(function(){if(s.tab3=t,s.$dialog.loading.close(),0==t&&s.panelClick(1),1==t)var e="/users/my_order?token="+a+"&pay_status=0&shipping_status=0&order_status=0&seller=2";else if(2==t)e="/users/my_order?token="+a+"&pay_status=1&shipping_status=0&order_status=-1&seller=2";else if(3==t)e="/users/my_order?token="+a+"&pay_status=1&shipping_status=1&order_status=1&seller=2";else if(4==t)e="/users/my_order?token="+a+"&pay_status=1&shipping_status=2&order_status=2&seller=2";s.$axios.get(e).then(function(t){if(200==t.status)return t.data.data}).then(function(t){console.log(t);for(var a=0;a<t.length;a++)t[a].add_time=s.timestampToTime(t[a].add_time),s.paynoorderall.push(t[a])}).catch(function(t){console.log(t)})},500)},panelClick:function(t){var s=this,a=(t=t||0,window.storeWithExpiration.get("token"));if(1==t)var e="/users/my_order?token="+a+"&pay_status=-1&shipping_status=-1&order_status=-1&seller=2";if(0==t)e="/users/my_order?token="+a+"&pay_status=-1&shipping_status=-1&order_status=-1&seller=1";s.$dialog.loading.open("数据加载中"),setTimeout(function(){s.navcart=t,s.$dialog.loading.close()},500),s.$axios.get(e).then(function(t){if(200==t.status)return t.data.data}).then(function(a){if(1==t){s.paynoorderall=[];for(var e=0;e<a.length;e++)a[e].add_time=s.timestampToTime(a[e].add_time),s.paynoorderall.push(a[e])}if(0==t){s.payorderall=[];for(e=0;e<a.length;e++)a[e].add_time=s.timestampToTime(a[e].add_time),s.payorderall.push(a[e])}}).catch(function(t){console.log(t)})},showclick:function(){var t=this.$route.query.id;this.payorderall=[],console.log(t),0==t?this.panelClick(0):1==t?this.itemClick(1):2==t?this.itemClick(2):3==t?this.itemClick(3):4==t&&this.itemClick(4)},ordermore:function(t){this.$router.push({path:"/productlists/"+t})},orderDetail:function(t){this.$router.push({name:"orderdetail_link",query:{order_id:t}})},timestampToTime:function(t){var s=new Date(1e3*t);return s.getFullYear()+"/"+((s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"/")+(s.getDate()+" ")+(s.getHours()+":")+(s.getMinutes()+":")+s.getSeconds()}},computed:Object(o.b)({bargaininglist:function(t){return this.$weipai.isEmptyObject(t.bargaininglist)&&(this.$store.dispatch("getbargaininglist"),this.$weipai.isEmptyObject(t.bargaininglist)&&(this.$store.state.bargaininglistflag=!1)),t.bargaininglist}})},n={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("yd-navbar",{attrs:{fixed:!0}},[e("router-link",{attrs:{slot:"left",to:""},slot:"left"},[e("yd-navbar-back-icon",{nativeOn:{click:function(s){return t.goback(s)}}},[t._v("返回")])],1),t._v(" "),e("img",{staticStyle:{width:".5rem"},attrs:{slot:"right",src:a("rgYI")},slot:"right"})],1),t._v(" "),e("yd-tab",{staticClass:"order_list",attrs:{"active-color":"#af773e","prevent-default":!1,"item-click":t.panelClick},model:{value:t.navcart,callback:function(s){t.navcart=s},expression:"navcart"}},[e("yd-tab-panel",{attrs:{label:"我的买单"}},[e("div",{staticClass:"margin_x"}),t._v(" "),e("yd-tab",{staticClass:"margin_top",attrs:{"active-color":"#af773e","prevent-default":!1,"item-click":t.itemClick},model:{value:t.tab2,callback:function(s){t.tab2=s},expression:"tab2"}},t._l(t.items,function(s,a){return e("yd-tab-panel",{key:a,attrs:{label:s.label}},t._l(t.payorderall,function(s){return e("div",{staticClass:"order_o"},[e("div",{staticClass:"order_title"},[e("ul",[e("li",{staticClass:"order_title1"},[e("img",{attrs:{src:s.seller_detail.head_pic}}),t._v(t._s(s.seller_detail.nickname))]),t._v(" "),0==s.pay_status&&0==s.shipping_status&&0==s.order_status?e("li",{staticClass:"order_title3"},[t._v(" 订单生成-未付款")]):1==s.pay_status&&0==s.shipping_status&&-1==s.order_status?e("li",{staticClass:"order_title3"},[t._v("付款成功-待发货")]):1==s.pay_status&&1==s.shipping_status&&1==s.order_status?e("li",{staticClass:"order_title3"},[t._v("发货成功-待收货")]):1==s.pay_status&&1==s.shipping_status&&6==s.order_status?e("li",{staticClass:"order_title3"},[t._v("售后处理中")]):t._e()])]),t._v(" "),e("div",{staticClass:"order_img"},[e("div",{staticClass:"order_img_img",on:{click:function(a){return t.ordermore(s.goods_id)}}},[e("img",{attrs:{src:s.original_img}})]),t._v(" "),e("div",{staticClass:"order_img_r",on:{click:function(a){return t.orderDetail(s.order_id)}}},[e("dl",[e("dt",[t._v(t._s(s.goods_name)+" ")]),t._v(" "),e("dd",[t._v("成交金额：￥"+t._s(s.order_amount))]),t._v(" "),e("dd",[t._v("下单时间："+t._s(s.add_time)+" ")])])])]),t._v(" "),e("div",{staticClass:"order_bottom"},[0==s.pay_status&&0==s.shipping_status&&0==s.order_status?e("p",[t._v("未付款")]):1==s.pay_status&&0==s.shipping_status&&-1==s.order_status?e("p",[t._v("待发货")]):1==s.pay_status&&1==s.shipping_status&&1==s.order_status?e("p",[t._v("待收货")]):1==s.pay_status&&1==s.shipping_status&&6==s.order_status?e("p",[t._v("售后")]):t._e()])])}),0)}),1)],1),t._v(" "),e("yd-tab-panel",{attrs:{label:"我的卖单"}},[e("div",{staticClass:"margin_x"}),t._v(" "),e("yd-tab",{staticClass:"margin_top",attrs:{"active-color":"#af773e","prevent-default":!1,"item-click":t.itemClick1},model:{value:t.tab3,callback:function(s){t.tab3=s},expression:"tab3"}},t._l(t.items1,function(s,a){return e("yd-tab-panel",{key:a,attrs:{label:s.label}},t._l(t.paynoorderall,function(s){return e("div",{staticClass:"order_o"},[e("div",{staticClass:"order_title"},[e("ul",[e("li",{staticClass:"order_title1"},[e("img",{attrs:{src:s.seller_detail.head_pic}}),t._v(t._s(s.seller_detail.nickname))]),t._v(" "),0==s.pay_status&&0==s.shipping_status&&0==s.order_status?e("li",{staticClass:"order_title3"},[t._v(" 订单生成-未付款")]):1==s.pay_status&&0==s.shipping_status&&-1==s.order_status?e("li",{staticClass:"order_title3"},[t._v("付款成功-待发货")]):1==s.pay_status&&1==s.shipping_status&&1==s.order_status?e("li",{staticClass:"order_title3"},[t._v("发货成功-待收货")]):1==s.pay_status&&1==s.shipping_status&&6==s.order_status?e("li",{staticClass:"order_title3"},[t._v("售后处理中")]):t._e()])]),t._v(" "),e("div",{staticClass:"order_img"},[e("div",{staticClass:"order_img_img"},[e("img",{attrs:{src:s.original_img}})]),t._v(" "),e("div",{staticClass:"order_img_r"},[e("dl",[e("dt",[t._v(t._s(s.goods_name)+" ")]),t._v(" "),e("dd",[t._v("成交金额：￥"+t._s(s.order_amount))]),t._v(" "),e("dd",[t._v("下单时间："+t._s(s.add_time)+" ")])])])]),t._v(" "),e("div",{staticClass:"order_bottom"},[0==s.pay_status&&0==s.shipping_status&&0==s.order_status?e("p",[t._v("未付款")]):1==s.pay_status&&0==s.shipping_status&&-1==s.order_status?e("p",[t._v("待发货")]):1==s.pay_status&&1==s.shipping_status&&1==s.order_status?e("p",[t._v("待收货")]):1==s.pay_status&&1==s.shipping_status&&6==s.order_status?e("p",[t._v("售后")]):t._e()])])}),0)}),1)],1)],1)],1)},staticRenderFns:[]};var _=a("C7Lr")(l,n,!1,function(t){a("aCoP")},null,null);s.default=_.exports},aCoP:function(t,s){}});
//# sourceMappingURL=28.a422a7309fd460961b38.js.map